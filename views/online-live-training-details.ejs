<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= course.title || 'Course' %> - Online Live Training</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <style>
    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: #f9f9f9;
      color: #333;
      line-height: 1.6;
    }
    
    /* Breadcrumb Styling */
    .breadcrumb {
      margin: 0;
      padding: 20px 5%;
      background: linear-gradient(to right, rgba(0, 33, 71, 0.05), rgba(184, 134, 11, 0.05));
      font-size: 14px;
      backdrop-filter: blur(10px);
    }
    
    .breadcrumb a {
      color: #002147;
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .breadcrumb a::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 2px;
      background-color: #b8860b;
      transition: width 0.3s ease;
    }
    
    .breadcrumb a:hover::after {
      width: 100%;
    }
    
    .breadcrumb span {
      color: #b8860b;
      font-weight: 600;
    }
    
    /* Hero Section */
    .hero-section {
      background: linear-gradient(135deg, #002147 0%, #001633 100%);
      position: relative;
      overflow: hidden;
      padding: 80px 0;
    }
    
    .hero-section::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -10%;
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, rgba(184, 134, 11, 0.1) 0%, transparent 70%);
      border-radius: 50%;
      animation: float 20s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-30px) rotate(180deg); }
    }
    
    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .hero-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      gap: 40px;
      flex-wrap: wrap;
    }
    
    .hero-info {
      flex: 1;
      min-width: 300px;
    }
    
    .course-code-badge {
      display: inline-block;
      padding: 8px 20px;
      background: rgba(184, 134, 11, 0.2);
      border: 1px solid rgba(184, 134, 11, 0.3);
      border-radius: 30px;
      color: #b8860b;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 20px;
      backdrop-filter: blur(10px);
    }
    
    .live-indicator {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 16px;
      background: rgba(220, 53, 69, 0.2);
      border: 1px solid rgba(220, 53, 69, 0.3);
      border-radius: 20px;
      color: #ff6b6b;
      font-size: 14px;
      font-weight: 600;
      animation: pulse 2s infinite;
      margin-left: 10px;
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.7; }
      100% { opacity: 1; }
    }
    
    .hero-title {
      font-family: 'Playfair Display', serif;
      font-size: 48px;
      font-weight: 700;
      color: white;
      margin-bottom: 20px;
      line-height: 1.2;
    }
    
    .hero-description {
      font-size: 18px;
      color: rgba(255, 255, 255, 0.9);
      line-height: 1.8;
      margin-bottom: 30px;
    }
    
    .hero-meta {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
    }
    
    .meta-item {
      display: flex;
      align-items: center;
      gap: 10px;
      color: rgba(255, 255, 255, 0.8);
      font-size: 15px;
    }
    
    .meta-item i {
      color: #b8860b;
      font-size: 18px;
    }
    
    .hero-actions {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 15px;
      padding: 30px;
      min-width: 320px;
    }
    
    .price-display {
      text-align: center;
      margin-bottom: 25px;
    }
    
    .price-label {
      color: rgba(255, 255, 255, 0.7);
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 5px;
      display: block;
    }
    
    .price-amount {
      font-size: 42px;
      font-weight: 700;
      color: white;
      margin-bottom: 5px;
    }
    
    .price-currency {
      font-size: 24px;
      font-weight: 400;
    }
    
    .early-bird-tag {
      display: inline-block;
      background: #28a745;
      color: white;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      margin-top: 10px;
    }
    
    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #b8860b 0%, #9a7209 100%);
      color: white;
      padding: 15px 30px;
      border: none;
      border-radius: 50px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(184, 134, 11, 0.3);
    }
    
    .btn-primary:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }
    
    .btn-secondary {
      background: transparent;
      color: white;
      padding: 15px 30px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }
    
    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
    }
    
    .btn-join {
      background: linear-gradient(135deg, #28a745 0%, #218838 100%);
    }
    
    .btn-join:hover {
      box-shadow: 0 10px 25px rgba(40, 167, 69, 0.3);
    }
    
    .availability-info {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 10px;
      padding: 15px;
      margin-top: 20px;
      text-align: center;
    }
    
    .seats-available {
      color: rgba(255, 255, 255, 0.9);
      font-size: 14px;
      margin-bottom: 10px;
    }
    
    .seats-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 5px;
    }
    
    .seats-fill {
      height: 100%;
      background: linear-gradient(90deg, #28a745 0%, #b8860b 50%, #dc3545 100%);
      transition: width 0.3s ease;
    }
    
    .seats-text {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
    }
    
    /* Main Content */
    .main-content {
      max-width: 1200px;
      margin: -40px auto 60px;
      padding: 0 20px;
      position: relative;
      z-index: 10;
    }
    
    /* Quick Info Bar */
    .quick-info-bar {
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }
    
    .info-item {
      text-align: center;
      padding: 20px;
      border-radius: 10px;
      background: #f8f9fa;
      transition: all 0.3s ease;
    }
    
    .info-item:hover {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      transform: translateY(-5px);
    }
    
    .info-icon {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #002147 0%, #003366 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
    }
    
    .info-icon i {
      color: white;
      font-size: 20px;
    }
    
    .info-label {
      font-size: 13px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 5px;
    }
    
    .info-value {
      font-size: 18px;
      font-weight: 600;
      color: #002147;
    }
    
    /* Content Sections */
    .content-section {
      background: white;
      border-radius: 15px;
      padding: 40px;
      margin-bottom: 30px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
      position: relative;
      overflow: hidden;
    }
    
    .content-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(180deg, #b8860b 0%, #002147 100%);
    }
    
    .section-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 30px;
    }
    
    .section-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #b8860b 0%, #9a7209 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .section-icon i {
      color: white;
      font-size: 18px;
    }
    
    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      font-weight: 700;
      color: #002147;
    }
    
    /* Course Overview */
    .overview-content {
      font-size: 16px;
      line-height: 1.8;
      color: #555;
    }
    
    .overview-content p {
      margin-bottom: 20px;
    }
    
    /* Learning Objectives */
    .objectives-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .objective-item {
      display: flex;
      gap: 15px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 10px;
      transition: all 0.3s ease;
    }
    
    .objective-item:hover {
      background: #f0f7ff;
      transform: translateX(5px);
    }
    
    .objective-number {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #002147 0%, #003366 100%);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      flex-shrink: 0;
    }
    
    .objective-text {
      flex: 1;
      color: #333;
      line-height: 1.6;
    }
    
    /* Course Schedule */
    .schedule-timeline {
      position: relative;
      padding-left: 40px;
    }
    
    .schedule-timeline::before {
      content: '';
      position: absolute;
      left: 15px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: #e0e0e0;
    }
    
    .session-item {
      position: relative;
      margin-bottom: 30px;
      padding: 25px;
      background: #f8f9fa;
      border-radius: 10px;
      transition: all 0.3s ease;
    }
    
    .session-item:hover {
      background: white;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      transform: translateX(10px);
    }
    
    .session-item::before {
      content: '';
      position: absolute;
      left: -33px;
      top: 30px;
      width: 16px;
      height: 16px;
      background: #b8860b;
      border-radius: 50%;
      border: 3px solid white;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    
    .session-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .session-title {
      font-size: 18px;
      font-weight: 600;
      color: #002147;
    }
    
    .session-datetime {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 5px 15px;
      background: white;
      border-radius: 20px;
      font-size: 13px;
      color: #666;
    }
    
    .session-description {
      color: #555;
      line-height: 1.6;
      margin-bottom: 15px;
    }
    
    .session-topics {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    
    .topic-tag {
      padding: 5px 12px;
      background: white;
      border: 1px solid #e0e0e0;
      border-radius: 20px;
      font-size: 12px;
      color: #666;
      transition: all 0.3s ease;
    }
    
    .topic-tag:hover {
      border-color: #b8860b;
      color: #b8860b;
    }
    
    /* Technical Requirements */
    .requirements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
    }
    
    .requirement-card {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 30px;
      text-align: center;
      transition: all 0.3s ease;
    }
    
    .requirement-card:hover {
      background: white;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      transform: translateY(-5px);
    }
    
    .requirement-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #002147 0%, #003366 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
    }
    
    .requirement-icon i {
      color: white;
      font-size: 24px;
    }
    
    .requirement-title {
      font-size: 16px;
      font-weight: 600;
      color: #002147;
      margin-bottom: 8px;
    }
    
    .requirement-detail {
      font-size: 14px;
      color: #666;
      line-height: 1.5;
    }
    
    /* Instructor Section */
    .instructor-profile {
      display: flex;
      gap: 30px;
      align-items: start;
      flex-wrap: wrap;
    }
    
    .instructor-image {
      width: 150px;
      height: 150px;
      border-radius: 15px;
      overflow: hidden;
      background: #f0f0f0;
      flex-shrink: 0;
    }
    
    .instructor-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .instructor-info {
      flex: 1;
      min-width: 250px;
    }
    
    .instructor-name {
      font-size: 24px;
      font-weight: 600;
      color: #002147;
      margin-bottom: 10px;
    }
    
    .instructor-title {
      font-size: 16px;
      color: #666;
      margin-bottom: 20px;
    }
    
    .instructor-bio {
      color: #555;
      line-height: 1.6;
      margin-bottom: 20px;
    }
    
    .instructor-credentials {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .credential-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: #f0f7ff;
      border: 1px solid #002147;
      border-radius: 25px;
      font-size: 14px;
      color: #002147;
    }
    
    /* Platform Details */
    .platform-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }
    
    .platform-feature {
      text-align: center;
      padding: 25px;
      background: #f8f9fa;
      border-radius: 10px;
      transition: all 0.3s ease;
    }
    
    .platform-feature:hover {
      background: white;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      transform: translateY(-5px);
    }
    
    .platform-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #b8860b 0%, #9a7209 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
    }
    
    .platform-icon i {
      color: white;
      font-size: 24px;
    }
    
    .platform-title {
      font-size: 16px;
      font-weight: 600;
      color: #002147;
      margin-bottom: 8px;
    }
    
    .platform-description {
      font-size: 14px;
      color: #666;
      line-height: 1.5;
    }
    
    /* Materials Section */
    .materials-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
    }
    
    .material-card {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 25px;
      transition: all 0.3s ease;
    }
    
    .material-card:hover {
      background: white;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      transform: translateY(-5px);
    }
    
    .material-header {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .material-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #002147 0%, #003366 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .material-icon i {
      color: white;
      font-size: 18px;
    }
    
    .material-title {
      font-size: 18px;
      font-weight: 600;
      color: #002147;
    }
    
    .material-list {
      list-style: none;
    }
    
    .material-list li {
      position: relative;
      padding-left: 25px;
      margin-bottom: 12px;
      color: #555;
      line-height: 1.6;
    }
    
    .material-list li::before {
      content: '\f00c';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      left: 0;
      top: 2px;
      color: #28a745;
    }
    
    /* Assessment Info */
    .assessment-info-box {
      background: #f0f7ff;
      border: 1px solid #002147;
      border-radius: 10px;
      padding: 25px;
      margin-top: 20px;
    }
    
    .assessment-title {
      font-size: 18px;
      font-weight: 600;
      color: #002147;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .assessment-title i {
      color: #b8860b;
    }
    
    .assessment-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
    
    .assessment-detail {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .assessment-detail i {
      color: #b8860b;
      width: 20px;
      text-align: center;
    }
    
    .assessment-detail span {
      color: #555;
      font-size: 14px;
    }
    
    /* Certification Features */
    .certification-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 30px;
    }
    
    .cert-feature {
      text-align: center;
      padding: 25px;
      background: #f8f9fa;
      border-radius: 10px;
      transition: all 0.3s ease;
    }
    
    .cert-feature:hover {
      background: white;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      transform: translateY(-5px);
    }
    
    .cert-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #b8860b 0%, #9a7209 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
    }
    
    .cert-icon i {
      color: white;
      font-size: 24px;
    }
    
    .cert-title {
      font-size: 16px;
      font-weight: 600;
      color: #002147;
      margin-bottom: 8px;
    }
    
    .cert-description {
      font-size: 14px;
      color: #666;
      line-height: 1.5;
    }
    
    /* Registration Terms */
    .terms-box {
      background: #f8f9fa;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      padding: 25px;
      margin-top: 20px;
    }
    
    .terms-title {
      font-size: 16px;
      font-weight: 600;
      color: #002147;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .terms-title i {
      color: #b8860b;
    }
    
    .terms-list {
      list-style: none;
    }
    
    .terms-list li {
      position: relative;
      padding-left: 25px;
      margin-bottom: 10px;
      font-size: 14px;
      color: #555;
      line-height: 1.6;
    }
    
    .terms-list li::before {
      content: '\f054';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      position: absolute;
      left: 0;
      top: 2px;
      color: #b8860b;
      font-size: 12px;
    }
    
    /* FAQ Section */
    .faq-accordion {
      margin-top: 20px;
    }
    
    .faq-item {
      background: white;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      margin-bottom: 15px;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .faq-item:hover {
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }
    
    .faq-question {
      padding: 20px 25px;
      background: #f8f9fa;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: all 0.3s ease;
    }
    
    .faq-question:hover {
      background: #f0f0f0;
    }
    
    .faq-question h4 {
      font-size: 16px;
      font-weight: 600;
      color: #002147;
      margin: 0;
    }
    
    .faq-icon {
      font-size: 20px;
      color: #b8860b;
      transition: transform 0.3s ease;
    }
    
    .faq-item.active .faq-icon {
      transform: rotate(180deg);
    }
    
    .faq-answer {
      padding: 0 25px;
      max-height: 0;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .faq-item.active .faq-answer {
      padding: 20px 25px;
      max-height: 500px;
    }
    
    .faq-answer p {
      color: #555;
      line-height: 1.6;
    }
    
    /* Course Status Message */
    .course-status-message {
      background: linear-gradient(135deg, #f0f7ff 0%, #e8f4ff 100%);
      border: 1px solid #002147;
      border-radius: 10px;
      padding: 20px;
      margin: 30px auto;
      max-width: 800px;
      text-align: center;
      font-size: 16px;
      color: #002147;
      font-weight: 500;
    }
    
    .course-status-message i {
      margin-right: 10px;
      color: #b8860b;
    }
    
    /* Mobile Action Bar */
    .mobile-action-bar {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      padding: 15px 20px;
      box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.1);
      z-index: 100;
    }
    
    .mobile-action-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 15px;
    }
    
    .mobile-price {
      font-size: 24px;
      font-weight: 700;
      color: #002147;
    }
    
    .mobile-buttons {
      display: flex;
      gap: 10px;
    }
    
    /* Notification */
    .notification {
      position: fixed;
      top: 20px;
      right: -400px;
      max-width: 400px;
      padding: 20px 25px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      gap: 15px;
      transition: right 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      z-index: 1000;
    }
    
    .notification.show {
      right: 20px;
    }
    
    .notification-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }
    
    .notification.success .notification-icon {
      background: #d4f4dd;
      color: #2e7d3e;
    }
    
    .notification.error .notification-icon {
      background: #f8d7da;
      color: #721c24;
    }
    
    .notification.warning .notification-icon {
      background: #fff3cd;
      color: #856404;
    }
    
    .notification-content h4 {
      margin: 0 0 5px;
      font-size: 16px;
      font-weight: 600;
    }
    
    .notification-content p {
      margin: 0;
      font-size: 14px;
      color: #666;
    }
    
    /* Loading State */
    .btn-loading {
      pointer-events: none;
      opacity: 0.7;
    }
    
    .btn-loading i {
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .hero-header {
        flex-direction: column;
      }
      
      .hero-title {
        font-size: 32px;
      }
      
      .hero-actions {
        margin-top: 20px;
      }
      
      .quick-info-bar {
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        padding: 20px;
      }
      
      .content-section {
        padding: 25px 20px;
      }
      
      .section-title {
        font-size: 24px;
      }
      
      .schedule-timeline {
        padding-left: 30px;
      }
      
      .session-item {
        padding: 20px;
      }
      
      .instructor-profile {
        flex-direction: column;
        text-align: center;
      }
      
      .instructor-image {
        margin: 0 auto;
      }
      
      .mobile-action-bar {
        display: block;
      }
      
      .main-content {
        margin-bottom: 100px;
      }
      
      .notification {
        left: 10px;
        right: 10px;
        max-width: none;
      }
      
      .notification.show {
        right: 10px;
      }
    }
  </style>
</head>

<body>
  <%- include('partials/header') %>

  <!-- Enhanced Breadcrumb -->
  <nav class="breadcrumb">
    <a href="/"><i class="fas fa-home"></i> Home</a> 
    <i class="fas fa-chevron-right" style="margin: 0 10px; color: #999; font-size: 12px;"></i>
    <a href="/training-programs">Training Programs</a> 
    <i class="fas fa-chevron-right" style="margin: 0 10px; color: #999; font-size: 12px;"></i>
    <a href="/online-live-training">Online Live Training</a>
    <i class="fas fa-chevron-right" style="margin: 0 10px; color: #999; font-size: 12px;"></i>
    <span><%= course.title || 'Course Details' %></span>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <div class="hero-header">
        <div class="hero-info">
          <div class="course-code-badge">
            <i class="fas fa-tag"></i> <%= course.courseCode || 'N/A' %>
          </div>
          <span class="live-indicator">
            <i class="fas fa-circle"></i> LIVE TRAINING
          </span>
          <h1 class="hero-title"><%= course.title || 'Online Live Training Course' %></h1>
          <p class="hero-description"><%= course.description || 'Join our interactive live online training session and learn from expert instructors in real-time.' %></p>
          
          <div class="hero-meta">
            <div class="meta-item">
              <i class="fas fa-user-tie"></i>
              <span><%= course.instructor || 'Expert Instructor' %></span>
            </div>
            <div class="meta-item">
              <i class="fas fa-calendar"></i>
              <span><%= course.startDate ? new Date(course.startDate).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' }) : 'TBD' %></span>
            </div>
            <div class="meta-item">
              <i class="fas fa-laptop"></i>
              <span><%= course.platform || 'Zoom' %></span>
            </div>
            <div class="meta-item">
              <i class="fas fa-clock"></i>
              <span><%= course.duration || '2 hours' %></span>
            </div>
          </div>
        </div>
        
        <div class="hero-actions">
          <div class="price-display">
            <span class="price-label">Investment</span>
            <div class="price-amount">
              <span class="price-currency">$</span><%= course.price || 0 %>
            </div>
            <% if (course.earlyBirdPrice && course.earlyBirdPrice < course.price) { %>
              <span class="early-bird-tag">
                <i class="fas fa-tag"></i> Early Bird: $<%= course.earlyBirdPrice %>
              </span>
            <% } %>
          </div>
          
          <div class="action-buttons">
            <% if (typeof showJoinButton !== 'undefined' && showJoinButton && userRegistrationStatus?.isRegistered) { %>
              <button class="btn-primary btn-join" onclick="joinLiveSession('<%= course._id %>')">
                <i class="fas fa-video"></i> Join Live Session
              </button>
            <% } else if (user) { %>
              <button class="btn-primary add-to-cart-btn" 
                      data-course-id="<%= course._id %>" 
                      data-course-type="OnlineLiveTraining"
                      data-price="<%= course.price || 0 %>"
                      data-course-code="<%= course.courseCode || 'N/A' %>"
                      data-course-title="<%= course.title || 'Untitled Course' %>"
                      <%= (course.status !== 'Open to Register' || (typeof course.availableSeats !== 'undefined' && course.availableSeats <= 0)) ? 'disabled' : '' %>>
                <i class="fas fa-shopping-cart"></i> 
                <%= (typeof course.availableSeats !== 'undefined' && course.availableSeats <= 0) ? 'Course Full' : 'Add to Cart' %>
              </button>
              
              <button class="btn-secondary add-to-wishlist-btn" 
                      data-course-id="<%= course._id %>" 
                      data-course-type="OnlineLiveTraining"
                      data-price="<%= course.price || 0 %>"
                      data-course-code="<%= course.courseCode || 'N/A' %>"
                      data-course-title="<%= course.title || 'Untitled Course' %>">
                <i class="fas fa-heart"></i> Save to Wishlist
              </button>
            <% } else { %>
              <button class="btn-primary" onclick="showLoginRequired()">
                <i class="fas fa-shopping-cart"></i> Add to Cart
              </button>
              <button class="btn-secondary" onclick="showLoginRequired()">
                <i class="fas fa-heart"></i> Save to Wishlist
              </button>
            <% } %>
          </div>
          
          <% if (typeof course.availableSeats !== 'undefined') { %>
          <div class="availability-info">
            <div class="seats-available">
              <strong><%= course.availableSeats %></strong> of <strong><%= course.seatsAvailable || 30 %></strong> seats available
            </div>
            <div class="seats-bar">
              <div class="seats-fill" style="width: <%= ((course.seatsAvailable - course.availableSeats) / course.seatsAvailable * 100) || 0 %>%"></div>
            </div>
            <div class="seats-text">
              <% if (course.availableSeats <= 5 && course.availableSeats > 0) { %>
                <i class="fas fa-exclamation-circle"></i> Limited availability - Register soon!
              <% } else if (course.availableSeats <= 0) { %>
                <i class="fas fa-times-circle"></i> This course is fully booked
              <% } %>
            </div>
          </div>
          <% } %>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Quick Info Bar -->
    <div class="quick-info-bar">
      <div class="info-item">
        <div class="info-icon">
          <i class="fas fa-clock"></i>
        </div>
        <div class="info-label">Duration</div>
        <div class="info-value"><%= course.duration || '2 hours' %></div>
      </div>
      
      <div class="info-item">
        <div class="info-icon">
          <i class="fas fa-certificate"></i>
        </div>
        <div class="info-label">Certificate</div>
        <div class="info-value"><%= course.certificateProvided ? 'Yes' : 'No' %></div>
      </div>
      
      <div class="info-item">
        <div class="info-icon">
          <i class="fas fa-language"></i>
        </div>
        <div class="info-label">Language</div>
        <div class="info-value"><%= course.language || 'English' %></div>
      </div>
      
      <div class="info-item">
        <div class="info-icon">
          <i class="fas fa-users"></i>
        </div>
        <div class="info-label">Class Size</div>
        <div class="info-value">Max <%= course.maxParticipants || course.seatsAvailable || 30 %></div>
      </div>
      
      <div class="info-item">
        <div class="info-icon">
          <i class="fas fa-signal"></i>
        </div>
        <div class="info-label">Level</div>
        <div class="info-value"><%= course.level || 'All Levels' %></div>
      </div>
    </div>

    <!-- Course Status Message -->
    <% if (typeof courseStatusMessage !== 'undefined' && courseStatusMessage) { %>
    <div class="course-status-message">
      <i class="fas fa-info-circle"></i> <%= courseStatusMessage %>
    </div>
    <% } %>

    <!-- Course Overview -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-info-circle"></i>
        </div>
        <h2 class="section-title">Course Overview</h2>
      </div>
      
      <div class="overview-content">
        <p><%= course.Aboutthiscourse || course.description || 'This comprehensive online live training program is designed to provide healthcare professionals with the knowledge and practical skills needed to excel in aesthetic medicine.' %></p>
        
        <% if (course.targetAudience) { %>
        <p><strong>Who Should Attend:</strong> <%= course.targetAudience %></p>
        <% } %>
        
        <% if (course.prerequisites) { %>
        <p><strong>Prerequisites:</strong> <%= course.prerequisites %></p>
        <% } %>
      </div>
    </div>

    <!-- Learning Objectives -->
    <% if (course.objectives && course.objectives.length > 0) { %>
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-graduation-cap"></i>
        </div>
        <h2 class="section-title">Learning Objectives</h2>
      </div>
      
      <div class="objectives-grid">
        <% course.objectives.forEach((objective, index) => { %>
        <div class="objective-item">
          <div class="objective-number"><%= index + 1 %></div>
          <div class="objective-text"><%= objective %></div>
        </div>
        <% }) %>
      </div>
    </div>
    <% } %>

    <!-- Course Schedule/Sessions -->
    <% if (course.isMultiDay && course.courseDays && course.courseDays.length > 0) { %>
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-calendar-alt"></i>
        </div>
        <h2 class="section-title">Session Schedule</h2>
      </div>
      
      <div class="schedule-timeline">
        <% course.courseDays.forEach((day, index) => { %>
        <div class="session-item">
          <div class="session-header">
            <h3 class="session-title">Session <%= index + 1 %>: <%= day.topic || `Day ${index + 1}` %></h3>
            <span class="session-datetime">
              <i class="far fa-calendar"></i> <%= new Date(day.date).toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric' }) %>
              <i class="far fa-clock" style="margin-left: 10px;"></i> <%= day.startTime %> - <%= day.endTime %>
            </span>
          </div>
          
          <% if (day.description) { %>
          <p class="session-description"><%= day.description %></p>
          <% } %>
          
          <% if (day.topics && day.topics.length > 0) { %>
          <div class="session-topics">
            <% day.topics.forEach(topic => { %>
            <span class="topic-tag"><%= topic %></span>
            <% }) %>
          </div>
          <% } %>
        </div>
        <% }) %>
      </div>
    </div>
    <% } else if (course.modules && course.modules.length > 0) { %>
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-book-open"></i>
        </div>
        <h2 class="section-title">Course Curriculum</h2>
      </div>
      
      <div class="schedule-timeline">
        <% course.modules.forEach((module, index) => { %>
        <div class="session-item">
          <div class="session-header">
            <h3 class="session-title">Module <%= index + 1 %>: <%= module.title %></h3>
            <% if (module.duration) { %>
            <span class="session-datetime">
              <i class="far fa-clock"></i> <%= module.duration %>
            </span>
            <% } %>
          </div>
          
          <% if (module.description) { %>
          <p class="session-description"><%= module.description %></p>
          <% } %>
        </div>
        <% }) %>
      </div>
    </div>
    <% } %>

    <!-- Platform & Technical Requirements -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-laptop-code"></i>
        </div>
        <h2 class="section-title">Platform & Technical Requirements</h2>
      </div>
      
      <div class="requirements-grid">
        <div class="requirement-card">
          <div class="requirement-icon">
            <i class="fas fa-video"></i>
          </div>
          <h4 class="requirement-title">Platform</h4>
          <p class="requirement-detail"><%= course.platform || 'Zoom' %> - Link provided upon registration</p>
        </div>
        
        <div class="requirement-card">
          <div class="requirement-icon">
            <i class="fas fa-wifi"></i>
          </div>
          <h4 class="requirement-title">Internet Speed</h4>
          <p class="requirement-detail">Minimum 5 Mbps for HD video streaming</p>
        </div>
        
        <div class="requirement-card">
          <div class="requirement-icon">
            <i class="fas fa-desktop"></i>
          </div>
          <h4 class="requirement-title">Device</h4>
          <p class="requirement-detail">Computer with webcam and microphone</p>
        </div>
        
        <div class="requirement-card">
          <div class="requirement-icon">
            <i class="fas fa-headset"></i>
          </div>
          <h4 class="requirement-title">Audio</h4>
          <p class="requirement-detail">Headset recommended for best experience</p>
        </div>
      </div>
      
      <% if (course.technicalRequirements || course.systemRequirements) { %>
      <div class="terms-box" style="margin-top: 30px;">
        <h4 class="terms-title">
          <i class="fas fa-exclamation-triangle"></i> Additional Requirements
        </h4>
        <p><%= course.technicalRequirements || course.systemRequirements %></p>
      </div>
      <% } %>
    </div>

    <!-- Instructor Information -->
    <% if (course.instructor || course.instructorDetails) { %>
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-user-tie"></i>
        </div>
        <h2 class="section-title">Meet Your Instructor<%= (course.coInstructors && course.coInstructors.length > 0) ? 's' : '' %></h2>
      </div>
      
      <!-- Main Instructor -->
      <div class="instructor-profile" style="margin-bottom: 30px;">
        <div class="instructor-image">
          <% if (course.instructorDetails?.profilePicture) { %>
          <img src="<%= course.instructorDetails.profilePicture %>" alt="<%= course.instructor %>">
          <% } else { %>
          <div class="image-placeholder" style="display: flex; align-items: center; justify-content: center; height: 100%; background: #f0f0f0;">
            <i class="fas fa-user" style="font-size: 48px; color: #999;"></i>
          </div>
          <% } %>
        </div>
        
        <div class="instructor-info">
          <h3 class="instructor-name"><%= course.instructor || 'Lead Instructor' %></h3>
          <p class="instructor-title"><%= course.instructorDetails?.title || 'Expert Trainer' %></p>
          <p class="instructor-bio"><%= course.instructorDetails?.bio || 'Experienced practitioner with extensive expertise in aesthetic medicine and online education.' %></p>
          
          <% if (course.instructorDetails?.qualifications && course.instructorDetails.qualifications.length > 0) { %>
          <div class="instructor-credentials">
            <% course.instructorDetails.qualifications.forEach(qualification => { %>
            <span class="credential-badge">
              <i class="fas fa-award"></i> <%= qualification %>
            </span>
            <% }) %>
          </div>
          <% } %>
        </div>
      </div>
      
      <!-- Co-Instructors -->
      <% if (course.coInstructors && course.coInstructors.length > 0) { %>
      <h3 style="margin: 30px 0 20px; color: #002147;">Co-Instructors</h3>
      <div class="requirements-grid">
        <% course.coInstructors.forEach((coInstructor, index) => { %>
        <div class="requirement-card">
          <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
            <div style="width: 60px; height: 60px; border-radius: 50%; background: #f0f0f0; display: flex; align-items: center; justify-content: center;">
              <% if (course.coInstructorDetails && course.coInstructorDetails[index]?.profilePicture) { %>
              <img src="<%= course.coInstructorDetails[index].profilePicture %>" alt="<%= coInstructor %>" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
              <% } else { %>
              <i class="fas fa-user" style="color: #999; font-size: 24px;"></i>
              <% } %>
            </div>
            <div>
              <h4 style="margin: 0; color: #002147;"><%= coInstructor %></h4>
              <p style="margin: 0; color: #666; font-size: 14px;">Co-Instructor</p>
            </div>
          </div>
          <% if (course.coInstructorDetails && course.coInstructorDetails[index]?.bio) { %>
          <p style="color: #555; font-size: 14px; line-height: 1.6;"><%= course.coInstructorDetails[index].bio %></p>
          <% } %>
        </div>
        <% }) %>
      </div>
      <% } %>
    </div>
    <% } %>

    <!-- Live Session Features -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-broadcast-tower"></i>
        </div>
        <h2 class="section-title">Live Session Features</h2>
      </div>
      
      <div class="platform-features">
        <div class="platform-feature">
          <div class="platform-icon">
            <i class="fas fa-comments"></i>
          </div>
          <h4 class="platform-title">Real-time Q&A</h4>
          <p class="platform-description">Ask questions and get immediate answers from instructors</p>
        </div>
        
        <div class="platform-feature">
          <div class="platform-icon">
            <i class="fas fa-users"></i>
          </div>
          <h4 class="platform-title">Interactive Sessions</h4>
          <p class="platform-description">Participate in breakout rooms and group discussions</p>
        </div>
        
        <div class="platform-feature">
          <div class="platform-icon">
            <i class="fas fa-desktop"></i>
          </div>
          <h4 class="platform-title">Screen Sharing</h4>
          <p class="platform-description">View demonstrations and presentations in high quality</p>
        </div>
        
        <div class="platform-feature">
          <div class="platform-icon">
            <i class="fas fa-video"></i>
          </div>
          <h4 class="platform-title">Recording Access</h4>
          <p class="platform-description"><%= course.recordingAvailable ? 'Session recording available for 30 days' : 'Live attendance required' %></p>
        </div>
      </div>
    </div>

    <!-- Course Materials -->
    <% if (course.materials || course.resources) { %>
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-folder-open"></i>
        </div>
        <h2 class="section-title">Course Materials</h2>
      </div>
      
      <div class="materials-grid">
        <% if (course.materials?.presentations || course.materials?.notes) { %>
        <div class="material-card">
          <div class="material-header">
            <div class="material-icon">
              <i class="fas fa-file-powerpoint"></i>
            </div>
            <h4 class="material-title">Digital Resources</h4>
          </div>
          <ul class="material-list">
            <li>Presentation slides</li>
            <li>Course notes and handouts</li>
            <li>Reference materials</li>
            <li>Additional reading lists</li>
          </ul>
        </div>
        <% } %>
        
        <% if (course.resources && course.resources.length > 0) { %>
        <div class="material-card">
          <div class="material-header">
            <div class="material-icon">
              <i class="fas fa-link"></i>
            </div>
            <h4 class="material-title">Online Resources</h4>
          </div>
          <ul class="material-list">
            <% course.resources.forEach(resource => { %>
            <li><%= resource %></li>
            <% }) %>
          </ul>
        </div>
        <% } %>
        
        <div class="material-card">
          <div class="material-header">
            <div class="material-icon">
              <i class="fas fa-headset"></i>
            </div>
            <h4 class="material-title">Support</h4>
          </div>
          <ul class="material-list">
            <li>Technical support during session</li>
            <li>Post-session Q&A forum access</li>
            <li>Email support for 30 days</li>
          </ul>
        </div>
      </div>
    </div>
    <% } %>

    <!-- Assessment & Certification -->
    <% if (course.certificateProvided || (typeof assessmentInfo !== 'undefined' && assessmentInfo?.hasAssessment)) { %>
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-certificate"></i>
        </div>
        <h2 class="section-title">Assessment & Certification</h2>
      </div>
      
      <% if (typeof assessmentInfo !== 'undefined' && assessmentInfo?.hasAssessment) { %>
      <div class="assessment-info-box">
        <h4 class="assessment-title">
          <i class="fas fa-clipboard-check"></i> Assessment Requirements
        </h4>
        <div class="assessment-details">
          <div class="assessment-detail">
            <i class="fas fa-question-circle"></i>
            <span>Type: <%= course.assessmentType?.charAt(0).toUpperCase() + course.assessmentType?.slice(1) || 'Quiz' %></span>
          </div>
          <div class="assessment-detail">
            <i class="fas fa-percentage"></i>
            <span>Passing Score: <%= assessmentInfo.passingScore || 70 %>%</span>
          </div>
          <% if (assessmentInfo.totalQuestions > 0) { %>
          <div class="assessment-detail">
            <i class="fas fa-list-ol"></i>
            <span>Questions: <%= assessmentInfo.totalQuestions %></span>
          </div>
          <% } %>
          <% if (assessmentInfo.timeLimit) { %>
          <div class="assessment-detail">
            <i class="fas fa-clock"></i>
            <span>Time Limit: <%= assessmentInfo.timeLimit %> minutes</span>
          </div>
          <% } %>
          <div class="assessment-detail">
            <i class="fas fa-redo"></i>
            <span>Retakes: <%= assessmentInfo.retakesAllowed || 1 %></span>
          </div>
        </div>
      </div>
      <% } %>
      
      <% if (course.certificateProvided) { %>
      <div class="certification-features">
        <div class="cert-feature">
          <div class="cert-icon">
            <i class="fas fa-award"></i>
          </div>
          <h4 class="cert-title">Certificate Type</h4>
          <p class="cert-description">
            Certificate of <%= course.certificateType || 'Completion' %>
          </p>
        </div>
        
        <% if (course.credits) { %>
        <div class="cert-feature">
          <div class="cert-icon">
            <i class="fas fa-graduation-cap"></i>
          </div>
          <h4 class="cert-title">CEU Credits</h4>
          <p class="cert-description">
            <%= course.credits %> Continuing Education Units
          </p>
        </div>
        <% } %>
        
        <div class="cert-feature">
          <div class="cert-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <h4 class="cert-title">Requirements</h4>
          <p class="cert-description">
            <%= (typeof assessmentInfo !== 'undefined' && assessmentInfo?.mustPassToGetCertificate) ? 'Pass assessment &' : '' %> Attend full session
          </p>
        </div>
        
        <div class="cert-feature">
          <div class="cert-icon">
            <i class="fas fa-download"></i>
          </div>
          <h4 class="cert-title">Digital Certificate</h4>
          <p class="cert-description">
            Download immediately after completion
          </p>
        </div>
      </div>
      <% } %>
    </div>
    <% } %>

    <!-- Registration Information -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-info-circle"></i>
        </div>
        <h2 class="section-title">Registration Information</h2>
      </div>
      
      <div class="terms-box">
        <h4 class="terms-title">
          <i class="fas fa-calendar-check"></i> Important Dates
        </h4>
        <ul class="terms-list">
          <li>Start Date: <%= course.startDate ? new Date(course.startDate).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }) : 'TBD' %></li>
          <% if (course.registrationDeadline) { %>
          <li>Registration Deadline: <%= new Date(course.registrationDeadline).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }) %></li>
          <% } %>
          <% if (course.earlyBirdDeadline) { %>
          <li>Early Bird Deadline: <%= new Date(course.earlyBirdDeadline).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }) %></li>
          <% } %>
        </ul>
      </div>
      
      <div class="terms-box" style="margin-top: 20px;">
        <h4 class="terms-title">
          <i class="fas fa-file-contract"></i> Terms & Conditions
        </h4>
        <ul class="terms-list">
          <li>Full payment required to confirm registration</li>
          <li>Access link will be sent 24 hours before the session</li>
          <li>Recording access (if available) for 30 days post-session</li>
          <li>Certificate issued upon successful completion</li>
          <li>Cancellation policy: Full refund up to 7 days before start</li>
        </ul>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-question-circle"></i>
        </div>
        <h2 class="section-title">Frequently Asked Questions</h2>
      </div>
      
      <div class="faq-accordion">
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFaq(this)">
            <h4>What if I can't attend the live session?</h4>
            <i class="fas fa-chevron-down faq-icon"></i>
          </div>
          <div class="faq-answer">
            <p><%= course.recordingAvailable ? 'If you cannot attend live, you will have access to the recording for 30 days. However, live attendance is recommended for the best learning experience and interaction with instructors.' : 'Live attendance is required for this course. Please ensure you can attend before registering.' %></p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFaq(this)">
            <h4>Can I interact with the instructor during the session?</h4>
            <i class="fas fa-chevron-down faq-icon"></i>
          </div>
          <div class="faq-answer">
            <p>Yes! Our live sessions are highly interactive. You can ask questions via chat or audio, participate in polls, and join breakout room discussions. We encourage active participation for the best learning experience.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFaq(this)">
            <h4>What technical setup do I need?</h4>
            <i class="fas fa-chevron-down faq-icon"></i>
          </div>
          <div class="faq-answer">
            <p>You'll need a computer with a stable internet connection (minimum 5 Mbps), webcam, and microphone. We recommend using a headset for better audio quality. Make sure to test your setup before the session starts.</p>
          </div>
        </div>
        
        <div class="faq-item">
          <div class="faq-question" onclick="toggleFaq(this)">
            <h4>How do I get my certificate?</h4>
            <i class="fas fa-chevron-down faq-icon"></i>
          </div>
          <div class="faq-answer">
            <p>Upon successful completion of the course <%= (typeof assessmentInfo !== 'undefined' && assessmentInfo?.mustPassToGetCertificate) ? 'and passing the assessment' : '' %>, your certificate will be available for download from your dashboard. You'll receive an email notification when it's ready.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Contact Section -->
    <div class="content-section">
      <div class="section-header">
        <div class="section-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <h2 class="section-title">Need Help?</h2>
      </div>
      
      <div style="text-align: center; padding: 20px;">
        <p style="font-size: 16px; color: #555; margin-bottom: 20px;">
          Have questions about this course? Our training advisors are here to help you make the right decision for your professional development.
        </p>
        <a href="/contact" class="btn-primary" style="display: inline-block; text-decoration: none;">
          <i class="fas fa-phone"></i> Contact Training Advisor
        </a>
      </div>
    </div>
  </div>

  <!-- Mobile Action Bar -->
  <div class="mobile-action-bar">
    <div class="mobile-action-content">
      <div class="mobile-price">
        $<%= course.price || 0 %>
      </div>
      <div class="mobile-buttons">
        <% if (typeof showJoinButton !== 'undefined' && showJoinButton && userRegistrationStatus?.isRegistered) { %>
          <button class="btn-primary btn-join" onclick="joinLiveSession('<%= course._id %>')" style="padding: 12px 20px; font-size: 14px;">
            <i class="fas fa-video"></i> Join Session
          </button>
        <% } else if (user) { %>
          <button class="btn-primary add-to-cart-btn" 
                  data-course-id="<%= course._id %>" 
                  data-course-type="OnlineLiveTraining"
                  data-price="<%= course.price || 0 %>"
                  data-course-code="<%= course.courseCode || 'N/A' %>"
                  data-course-title="<%= course.title || 'Untitled Course' %>"
                  <%= (course.status !== 'Open to Register') ? 'disabled' : '' %>
                  style="padding: 12px 20px; font-size: 14px;">
            <i class="fas fa-shopping-cart"></i> Add to Cart
          </button>
        <% } else { %>
          <button class="btn-primary" onclick="showLoginRequired()" style="padding: 12px 20px; font-size: 14px;">
            <i class="fas fa-shopping-cart"></i> Add to Cart
          </button>
        <% } %>
      </div>
    </div>
  </div>

  <!-- Notification Container -->
  <div id="notificationContainer"></div>

  <script>
    // Show notification function
    function showNotification(title, message, type = 'success') {
      const container = document.getElementById('notificationContainer');
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      
      const iconMap = {
        success: 'fa-check-circle',
        error: 'fa-times-circle',
        warning: 'fa-exclamation-triangle'
      };
      
      notification.innerHTML = `
        <div class="notification-icon">
          <i class="fas ${iconMap[type]}"></i>
        </div>
        <div class="notification-content">
          <h4>${title}</h4>
          <p>${message}</p>
        </div>
      `;
      
      container.appendChild(notification);
      
      // Show notification
      setTimeout(() => notification.classList.add('show'), 10);
      
      // Auto remove
      setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => notification.remove(), 500);
      }, 5000);
    }

    // Show login required message
    function showLoginRequired() {
      showNotification('Authentication Required', 'Please log in to continue', 'warning');
      setTimeout(() => {
        window.location.href = '/login';
      }, 2000);
    }

    // Set button loading state
    function setButtonLoading(button, loading) {
      if (loading) {
        button.classList.add('btn-loading');
        button.disabled = true;
        const icon = button.querySelector('i');
        if (icon) {
          const originalClass = icon.className;
          icon.setAttribute('data-original-class', originalClass);
          icon.className = 'fas fa-spinner fa-spin';
        }
      } else {
        button.classList.remove('btn-loading');
        button.disabled = false;
        const icon = button.querySelector('i');
        if (icon) {
          const originalClass = icon.getAttribute('data-original-class');
          if (originalClass) {
            icon.className = originalClass;
          }
        }
      }
    }

    // Add to Cart
    document.querySelectorAll('.add-to-cart-btn').forEach(button => {
      button.addEventListener('click', async function(e) {
        e.preventDefault();
        
        const courseId = this.getAttribute('data-course-id');
        const courseType = this.getAttribute('data-course-type');
        const courseTitle = this.getAttribute('data-course-title');
        
        setButtonLoading(this, true);
        
        try {
          const response = await fetch('/add-to-cart', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ courseId, courseType })
          });
          
          const result = await response.json();
          
          if (result.success) {
            showNotification('Added to Cart', `"${courseTitle}" has been added to your cart`, 'success');
          } else {
            showNotification('Error', result.message, 'error');
          }
        } catch (error) {
          console.error('Error:', error);
          showNotification('Error', 'Failed to add to cart', 'error');
        } finally {
          setButtonLoading(this, false);
        }
      });
    });

    // Add to Wishlist
    document.querySelectorAll('.add-to-wishlist-btn').forEach(button => {
      button.addEventListener('click', async function(e) {
        e.preventDefault();
        
        const courseId = this.getAttribute('data-course-id');
        const courseType = this.getAttribute('data-course-type');
        const courseTitle = this.getAttribute('data-course-title');
        
        setButtonLoading(this, true);
        
        try {
          const response = await fetch('/add-to-wishlist', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ courseId, courseType })
          });
          
          const result = await response.json();
          
          if (result.success) {
            showNotification('Added to Wishlist', `"${courseTitle}" has been saved to your wishlist`, 'success');
            
            // Optional: Update button appearance
            this.style.color = '#e74c3c';
            this.querySelector('i').classList.add('fas');
            this.querySelector('i').classList.remove('far');
          } else {
            showNotification('Error', result.message, 'error');
          }
        } catch (error) {
          console.error('Error:', error);
          showNotification('Error', 'Failed to add to wishlist', 'error');
        } finally {
          setButtonLoading(this, false);
        }
      });
    });

    // Join Live Session functionality
    async function joinLiveSession(courseId) {
      try {
        showNotification('Connecting', 'Preparing to join the live session...', 'success');
        
        const response = await fetch(`/online-live-training/join/${courseId}`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' }
        });

        const result = await response.json();
        
        if (result.success) {
          showNotification('Success', result.message, 'success');
          // Open session in new tab
          if (result.courseUrl) {
            setTimeout(() => {
              window.open(result.courseUrl, '_blank');
            }, 1500);
          }
        } else {
          showNotification('Unable to Join', result.message, 'warning');
        }
      } catch (err) {
        console.error('Join session error:', err);
        showNotification('Error', 'Failed to join the session', 'error');
      }
    }

    // FAQ Toggle
    function toggleFaq(element) {
      const faqItem = element.parentElement;
      const wasActive = faqItem.classList.contains('active');
      
      // Close all FAQ items
      document.querySelectorAll('.faq-item').forEach(item => {
        item.classList.remove('active');
      });
      
      // Open clicked item if it wasn't active
      if (!wasActive) {
        faqItem.classList.add('active');
      }
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Initialize
    console.log('📚 Online live course details page loaded');
    console.log('👤 User logged in:', <%= user ? 'true' : 'false' %>);
    console.log('💺 Seats available:', <%= typeof course.availableSeats !== 'undefined' ? course.availableSeats : 'N/A' %>);
  </script>

  <%- include('partials/footer') %>
</body>
</html>