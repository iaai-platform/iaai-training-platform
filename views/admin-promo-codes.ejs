<!DOCTYPE html>
<html lang="en">

<body>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>International Aesthetic Academic Institution (IAAI)</title>
        <link rel="stylesheet" href="/css/admin.css"> <!-- Link to the main CSS -->
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"> <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <script src="https://kit.fontawesome.com/a076d05399.js"></script> <!-- FontAwesome for icons -->
      </head>
      
      <%- include('partials/header') %>
      
      
          <!-- ✅ Page Header -->
    <header>
        <h1>Admin Dashboard - User Management-Promo Code</h1>
        <a href="/dashboard" class="cta-btn">Admin Home</a>
    </header>

      

    <div class="container">
        <h1>Promo Code Management</h1>

        <!-- ✅ Add New Promo Code Form -->
        <div class="promo-code-form">
            <h2>Add New Promo Code</h2>
            <form action="/admin-promo-codes/add" method="POST">
                <label>Promo Code Name:</label>
                <input type="text" name="code" required>

                <label>Discount Percentage:</label>
                <input type="number" name="discountPercentage" min="1" max="100" required>

                <label>Expiration Date (optional):</label>
                <input type="date" name="expiryDate">

                <button type="submit" class="cta-btn">Add Promo Code</button>
            </form>
        </div>

        <!-- ✅ List of Existing Promo Codes -->
        <h2>Active Promo Codes</h2>
        <table class="promo-code-table">
            <thead>
                <tr>
                    <th>Promo Code</th>
                    <th>Discount (%)</th>
                    <th>Expiration</th>
                    <th>Active</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <% promoCodes.forEach(promo => { %>
                    <tr>
                        <td><%= promo.code %></td>
                        <td><%= promo.discountPercentage %>%</td>
                        <td><%= promo.expiryDate ? promo.expiryDate.toDateString() : 'No Expiry' %></td>
                        <td><%= promo.isActive ? 'Yes' : 'No' %></td>
                        <td>
                            <form action="/admin-promo-codes/delete/<%= promo._id %>" method="POST">
                                <button type="submit" class="delete-btn">Delete</button>
                            </form>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>



    <%- include('partials/footer') %>
</body>
</html>